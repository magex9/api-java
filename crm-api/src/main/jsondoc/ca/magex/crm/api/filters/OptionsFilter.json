{
  "name": "OptionsFilter",
  "package": "ca.magex.crm.api.filters",
  "imports": {
    "List": "java.util",
    "Map": "java.util",
    "StringUtils": "org.apache.commons.lang3",
    "EqualsBuilder": "org.apache.commons.lang3.builder",
    "HashCodeBuilder": "org.apache.commons.lang3.builder",
    "ToStringBuilder": "org.apache.commons.lang3.builder",
    "ToStringStyle": "org.apache.commons.lang3.builder",
    "Sort": "org.springframework.data.domain",
    "Direction": "org.springframework.data.domain.Sort",
    "Order": "org.springframework.data.domain.Sort",
    "Crm": "ca.magex.crm.api",
    "ApiException": "ca.magex.crm.api.exceptions",
    "Identifier": "ca.magex.crm.api.system",
    "Lang": "ca.magex.crm.api.system",
    "Option": "ca.magex.crm.api.system",
    "Status": "ca.magex.crm.api.system"
  },
  "type": "class",
  "modifiers": ["public"],
  "implements": [{
    "class": "CrmFilter",
    "generics": ["Option"]
  }],
  "constructors": [
    {
      "name": "OptionsFilter",
      "modifiers": ["public"],
      "body": "{\n    this(null, null, null, null, null);\n}"
    },
    {
      "name": "OptionsFilter",
      "modifiers": ["public"],
      "parameters": [
        {
          "name": "lookupId",
          "type": "Identifier"
        },
        {
          "name": "englishName",
          "type": "String"
        },
        {
          "name": "frenchName",
          "type": "String"
        },
        {
          "name": "optionCode",
          "type": "String"
        },
        {
          "name": "status",
          "type": "Status"
        }
      ],
      "body": "{\n    this.lookupId = lookupId;\n    this.englishName = englishName;\n    this.frenchName = frenchName;\n    this.optionCode = optionCode;\n    this.status = status;\n}"
    },
    {
      "name": "OptionsFilter",
      "modifiers": ["public"],
      "parameters": [{
        "name": "filterCriteria",
        "type": {
          "class": "Map",
          "generics": [
            "String",
            "Object"
          ]
        }
      }],
      "body": "{\n    try {\n        this.lookupId = filterCriteria.containsKey(\"lookupId\") ? new Identifier((String) filterCriteria.get(\"lookupId\")) : null;\n        this.englishName = (String) filterCriteria.get(\"englishName\");\n        this.frenchName = (String) filterCriteria.get(\"frenchName\");\n        this.optionCode = (String) filterCriteria.get(\"optionCode\");\n        this.status = null;\n        if (filterCriteria.containsKey(\"status\") && StringUtils.isNotBlank((String) filterCriteria.get(\"status\"))) {\n            try {\n                this.status = Status.valueOf(StringUtils.upperCase((String) filterCriteria.get(\"status\")));\n            } catch (IllegalArgumentException e) {\n                throw new ApiException(\"Invalid status value '\" + filterCriteria.get(\"status\") + \"' expected one of {\" + StringUtils.join(Status.values(), \",\") + \"}\");\n            }\n        }\n    } catch (ClassCastException cce) {\n        throw new ApiException(\"Unable to instantiate roles filter\", cce);\n    }\n}"
    }
  ],
  "fields": [
    {
      "name": "SORT_OPTIONS",
      "modifiers": [
        "public",
        "static",
        "final"
      ],
      "type": {
        "class": "List",
        "generics": ["Sort"]
      }
    },
    {
      "name": "lookupId",
      "modifiers": ["private"],
      "type": "Identifier"
    },
    {
      "name": "englishName",
      "modifiers": ["private"],
      "type": "String"
    },
    {
      "name": "frenchName",
      "modifiers": ["private"],
      "type": "String"
    },
    {
      "name": "optionCode",
      "modifiers": ["private"],
      "type": "String"
    },
    {
      "name": "status",
      "modifiers": ["private"],
      "type": "Status"
    }
  ],
  "methods": [
    {
      "name": "getLookupId",
      "modifiers": ["public"],
      "type": "Identifier",
      "body": "{\n    return lookupId;\n}"
    },
    {
      "name": "getEnglishName",
      "modifiers": ["public"],
      "type": "String",
      "body": "{\n    return englishName;\n}"
    },
    {
      "name": "getFrenchName",
      "modifiers": ["public"],
      "type": "String",
      "body": "{\n    return frenchName;\n}"
    },
    {
      "name": "getOptionCode",
      "modifiers": ["public"],
      "type": "String",
      "body": "{\n    return optionCode;\n}"
    },
    {
      "name": "getStatus",
      "modifiers": ["public"],
      "type": "Status",
      "body": "{\n    return status;\n}"
    },
    {
      "name": "withLookupId",
      "modifiers": ["public"],
      "type": "OptionsFilter",
      "parameters": [{
        "name": "lookupId",
        "type": "Identifier"
      }],
      "body": "{\n    return new OptionsFilter(lookupId, englishName, frenchName, optionCode, status);\n}"
    },
    {
      "name": "withEnglishName",
      "modifiers": ["public"],
      "type": "OptionsFilter",
      "parameters": [{
        "name": "englishName",
        "type": "String"
      }],
      "body": "{\n    return new OptionsFilter(lookupId, englishName, frenchName, optionCode, status);\n}"
    },
    {
      "name": "withFrenchName",
      "modifiers": ["public"],
      "type": "OptionsFilter",
      "parameters": [{
        "name": "frenchName",
        "type": "String"
      }],
      "body": "{\n    return new OptionsFilter(lookupId, englishName, frenchName, optionCode, status);\n}"
    },
    {
      "name": "withOptionCode",
      "modifiers": ["public"],
      "type": "OptionsFilter",
      "parameters": [{
        "name": "optionCode",
        "type": "String"
      }],
      "body": "{\n    return new OptionsFilter(lookupId, englishName, frenchName, optionCode, status);\n}"
    },
    {
      "name": "withStatus",
      "modifiers": ["public"],
      "type": "OptionsFilter",
      "parameters": [{
        "name": "status",
        "type": "Status"
      }],
      "body": "{\n    return new OptionsFilter(lookupId, englishName, frenchName, optionCode, status);\n}"
    },
    {
      "name": "getSortOptions",
      "modifiers": [
        "public",
        "static"
      ],
      "type": {
        "class": "List",
        "generics": ["Sort"]
      },
      "body": "{\n    return SORT_OPTIONS;\n}"
    },
    {
      "name": "getDefaultSort",
      "modifiers": [
        "public",
        "static"
      ],
      "type": "Sort",
      "body": "{\n    return Sort.by(Direction.ASC, \"optionCode\");\n}"
    },
    {
      "name": "getDefaultPaging",
      "modifiers": [
        "public",
        "static"
      ],
      "type": "Paging",
      "body": "{\n    return new Paging(getDefaultSort());\n}"
    },
    {
      "name": "apply",
      "modifiers": ["public"],
      "type": "boolean",
      "annotations": [{"name": "Override"}],
      "parameters": [{
        "name": "instance",
        "type": "Option"
      }],
      "body": "{\n    return List.of(instance).stream().filter(o -> this.getLookupId() == null || this.getLookupId().equals(o.getLookupId())).filter(o -> this.getEnglishName() == null || StringUtils.containsIgnoreCase(o.getName(Lang.ENGLISH), this.getEnglishName())).filter(o -> this.getFrenchName() == null || StringUtils.containsIgnoreCase(o.getName(Lang.FRENCH), this.getFrenchName())).filter(o -> this.getOptionCode() == null || StringUtils.equalsIgnoreCase(this.getOptionCode(), o.getCode())).filter(o -> this.getStatus() == null || this.getStatus().equals(o.getStatus())).findAny().isPresent();\n}"
    },
    {
      "name": "hashCode",
      "modifiers": ["public"],
      "type": "int",
      "annotations": [{"name": "Override"}],
      "body": "{\n    return HashCodeBuilder.reflectionHashCode(this);\n}"
    },
    {
      "name": "equals",
      "modifiers": ["public"],
      "type": "boolean",
      "annotations": [{"name": "Override"}],
      "parameters": [{
        "name": "obj",
        "type": "Object"
      }],
      "body": "{\n    return EqualsBuilder.reflectionEquals(this, obj);\n}"
    },
    {
      "name": "toString",
      "modifiers": ["public"],
      "type": "String",
      "annotations": [{"name": "Override"}],
      "body": "{\n    return ToStringBuilder.reflectionToString(this, ToStringStyle.JSON_STYLE);\n}"
    }
  ]
}